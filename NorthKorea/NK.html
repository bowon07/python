<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>North Korea Information</title>
    <!-- 부트스트랩 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div id="app" class="container mt-4">
        <h1>북한 정보 제공 웹사이트_1403 김보원</h1>
        <div class="row mt-4">
            <div class="col-md-3">
                <div class="list-group">
                    <a class="list-group-item list-group-item-action" @click="getPoliticsInfo()">정치</a>
                    <a class="list-group-item list-group-item-action" @click="getSocietyInfo()">사회</a>
                    <a class="list-group-item list-group-item-action" @click="getCultureInfo()">문화</a>
                    <a class="list-group-item list-group-item-action" @click="getEconomyInfo()">경제</a>
                </div>
            </div>
            <div class="col-md-9">
                <div v-if="selectedInfo">
                    <h3>{{ selectedInfo.name }}</h3>
                    <p>{{ selectedInfo.data }}</p>
                </div>
                <div v-else>
                    <p>정보를 보려면 카테고리를 선택하세요.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                selectedInfo: null
            },
            methods: {
                getPoliticsInfo() {
                    fetch('http://127.0.0.1:5000/politics')
                        .then(response => response.json())
                        .then(data => {
                            this.selectedInfo = { name: '정치', data: data.info };
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                getSocietyInfo() {
                    fetch('http://127.0.0.1:5000/society')
                        .then(response => response.json())
                        .then(data => {
                            this.selectedInfo = { name: '사회', data: data.info };
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                getCultureInfo() {
                    fetch('http://127.0.0.1:5000/culture')
                        .then(response => response.json())
                        .then(data => {
                            this.selectedInfo = { name: '문화', data: data.info };
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                },
                getEconomyInfo() {
                    fetch('http://127.0.0.1:5000/economy')
                        .then(response => response.json())
                        .then(data => {
                            this.selectedInfo = { name: '경제', data: data.info };
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                }
            }
        });
    </script>
</body>
</html>
